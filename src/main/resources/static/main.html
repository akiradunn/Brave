<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Brave勇气</title>
<!--jQuery引用-->
<script src="files/js/jquery-3.3.1.js"></script>
<script src="files/js/my.js"></script>
<!-- Bootstrap core CSS&&JS -->
<link href="/bootstrap-3.3.7/docs/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script src="/bootstrap-3.3.7/docs/dist/js/bootstrap.min.js"></script>
<!-- vue.js core -->
<script src="https://cdn.bootcss.com/vue/2.4.2/vue.min.js"></script>
<!-- 引入样式 -->
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<!-- 引入组件库 -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
</head>

<body onload="checkUserRole()">
	<!--container-->
	<div class="container">
		<div class="row clearfix">
			<div class="col-md-12 column">
				<!--nav-->
				<nav class="navbar navbar-default navbar-fixed-top"
					role="navigation">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse"
							data-target="#bs-example-navbar-collapse-1"></button>
						<a class="navbar-brand" id="reminder" href="#"></a>
					</div>
					<div class="collapse navbar-collapse"
						id="bs-example-navbar-collapse-1">
						<ul class="nav navbar-nav">
							<li><a href="javascript:void(0);" onclick="showMyInfo()">个人信息</a></li>
							<li><a href="javascript:void(0);" onclick="showMyClass()">我的课题</a></li>
							<li><a href="javascript:void(0);" onclick="showClassSquare()">课题广场</a></li>
						</ul>
						<form class="navbar-form navbar-left" id="searchForm" role="search">
							<div class="form-group">
								<input name="k_name" type="text" class="form-control" />
							</div>
							<button type="button" class="btn btn-default" onclick="showSearchResults()" >课题搜索</button>
						</form>
						<ul class="nav navbar-nav navbar-right">
							<li><a href="/logout" style="color: red;">用户注销</a></li>
						</ul>
					</div>
				</nav>
				<!--/nav-->
			</div>
		</div>
</div>
	<!--/container-->

<br>
<br>
		<!-- 我的信息 -->
		<div id="myInfo" style="display: none;">
			<form id="updateMyInfoForm">
			<div id ="vueMyInfo" class="panel panel-default">
			<!-- Default panel contents -->
			<div class="panel-body">
				<button type="button" class="btn btn-default" @click="edited()">编辑</button>
				<button v-if="!show" type="button" class="btn btn-default" @click="save()">保存</button>
			<!-- Table -->
			<table class="table">
				<tr>
					<th>名字</th>
					<td v-if="show">{{ MyBassicInfoStore[0].u_name }}</td>
					<td v-else>
								<input name="u_name" v-bind:value="MyBassicInfoStore[0].u_name" type="text" class="form-control">
					</td>
				</tr>
				<tr>
					<th>性别</th>
					<td v-if="show">{{ MyBassicInfoStore[0].u_sex }}</td>
					<td v-else>
								<input name="u_sex" v-bind:value="MyBassicInfoStore[0].u_sex" type="text" class="form-control">
					</td>
				</tr>
				<tr>
					<th>职称</th>
					<td>{{ MyBassicInfoStore[0].u_identity }}</td>
				</tr>
				<tr>
					<th>科研总分</th>
					<td>{{ MyBassicInfoStore[0].u_wholePoints }}</td>
				</tr>
				<tr>
					<th>用户名</th>
					<td v-if="show">{{ MyAccountInfoStore.currentUsername }}</td>
					<td v-else>
								<input name="modifiedusername" v-bind:value="MyAccountInfoStore.currentUsername" type="text" class="form-control">
					</td>
				</tr>
				<tr>
					<th>密码</th>
					<td v-if="show">********</td>
					<td v-else>
								<input name="password" type="text" value="********" class="form-control">
					</td>
				</tr>
				</table>
				</div>
			</div>
			</form>
		</div>
	<!-- /我的信息 -->

	
	<!-- 我的课题 -->
	<div id="myClass" style="display: none;" align="center">
		<div class="panel panel-default">
			<!-- Default panel contents -->
			<div class="panel-heading" id="myClassReminder"></div>
			<!-- Table -->
			<div id="vueMyClass">
			<table class="table">
				<tr>
					<th>课题名称</th>
					<th>课题状态</th>
					<th>课题积分</th>
					<th>申报时间</th>
					<th>立项时间</th>
					<th>结项时间</th>
					<th>积分申报</th>
					<th>课题完成</th>
				</tr>
				<tr v-for="temp in myClassStore">
                    <td>{{ temp.k_name  }}</td>
                    <td>{{ temp.k_status  }}</td>
                    <td>{{ temp.k_score  }}</td>
                    <td>{{ temp.k_applyTime  }}</td>
                    <td>{{ temp.k_setTime  }}</td>
                    <td>{{ temp.k_endTime  }}</td>
                    <td>{{ temp.k_scoreApplied  }}</td>
                    <td>{{ temp.k_completed  }}</td>
                </tr>
			</table>
			</div>
		</div>
	</div>
	<!-- /我的课题 -->

	<!-- 课题广场 -->
	<div id="classSquare" style="display: none;" align="center">
		<div class="panel panel-default">
			<!-- Default panel contents -->
			<div class="panel-heading" id="classSquareReminder"></div>
			<!-- Table -->
			<div id="vueClassSquare">
				<table class="table">
				<tr>
					<th>课题名称</th>
					<th>课题类别</th>
					<th>科研积分</th>
				</tr>
				<tr v-for="temp in classSquareStore">
                    <td>{{ temp.k_name  }}</td>
                    <td>{{ temp.k_category  }}</td>
                    <td>{{ temp.k_score  }}</td>
                    <td><button type="button" class="btn btn-default" @click='addMyKyxm(temp.k_id)'>添加</button></td>
                </tr>
				</table>
			</div>
		</div>
	</div>
	<!-- /课题广场 -->

	<!-- 搜索结果 -->
	<div id="searchResults" style="display: none;" align="center">
		<div class="panel panel-default" >
			<!-- Default panel contents -->
			<div class="panel-heading" id="searchResultsReminder"></div>
			<!-- Table -->
			<div id="vueSearchResults">
			<table class="table">
				<tr>
					<th>课题名称</th>
					<th>课题类别</th>
					<th>科研积分</th>
				</tr>
				<tr v-for="temp in searchResultsStore">
                    <td>{{ temp.k_name  }}</td>
                    <td>{{ temp.k_category  }}</td>
                    <td>{{ temp.k_score  }}</td>
                    <td><button type="button" class="btn btn-default" @click='addMyKyxm(temp.k_id)'>添加</button></td>
                </tr>
			</table>
		</div>
	</div>
	<!-- /搜索结果 -->
</body>
</html>